//网盘应用配置
//1、WebDAV 服务器与网站（静态文件服务器）共存配置
          { //若原示例为单一回落应用，此 { 可省略、保留上级的 { 即可。
            "match": [{
              "not": [{
                "method": ["GET","HEAD"]
              }]
            }],
            "handle": [{
              "handler": "authentication",
              "providers": {
                "http_basic": {
                  "hash": {
                    "algorithm": "bcrypt"
                  },
                  "accounts": [{
                    "username": "user", //验证用户，修改为自己的。
                    "password": "JDJhJDE0JGMzclpVMkU4bVhMRVRXY0o2a2pmMnVGUDNqcGxGZ3ByY1ZTMEVDbi80N1M0NE93NUZXZXNl" //验证密码（示例为 password 的哈希密码），修改为自己的。
                  }], //可以配置多组用户及密码
                  "hash_cache": {}
                }
              }
            },
            {
              "handler": "webdav",
              "root": "/home/webdav" //修改为 WebDAV 服务器存放文件路径
            }]
          },
          {
            "handle": [{
              "handler": "headers",
              "response": {
                "set": {
                  "Alt-Svc": ["h3=\":443\"; ma=2592000"], //通告 HTTP/3 server 的可用性。（代理了 UDP 443 端口才需要配置）
                  "Strict-Transport-Security": ["max-age=31536000; includeSubDomains; preload"] //启用 HSTS
                }
              }
            },
            {
              "handler": "file_server",
              "root": "/var/www/html" //修改为自己存放的 Web 文件路径
            }]
          }],
//备注：
//1、使用上面配置替换原示例的网站（静态文件服务器）配置、即可实现 WebDAV 服务器与网站（静态文件服务器）共存。
//2、修改 /home/webdav 的目录权限为 0777 ，以便客户端具有写入及删除文件权限。
//3、authentication 中密码必须使用哈希密码，可用 caddy hash-password --plaintext <password> 命令把普通密码转化为哈希密码。
//4、仅支持使用 WebDAV 客户端管理网盘文件，可上传、下载、删除、修改等。


//2、WebDAV 服务器与网站（文件列表服务器）共存配置
          { //若原示例为单一回落应用，此 { 可省略、保留上级的 { 即可。
            "match": [{
              "not": [{
                "method": ["GET","HEAD"]
              }]
            }],
            "handle": [{
              "handler": "authentication",
              "providers": {
                "http_basic": {
                  "hash": {
                    "algorithm": "bcrypt"
                  },
                  "accounts": [{
                    "username": "user", //验证用户，修改为自己的。
                    "password": "JDJhJDE0JGMzclpVMkU4bVhMRVRXY0o2a2pmMnVGUDNqcGxGZ3ByY1ZTMEVDbi80N1M0NE93NUZXZXNl" //验证密码（示例为 password 的哈希密码），修改为自己的。
                  }], //可以配置多组用户及密码
                  "hash_cache": {}
                }
              }
            },
            {
              "handler": "webdav",
              "root": "/home/webdav" //修改为 WebDAV 服务器存放文件路径
            }]
          },
          {
            "handle": [{
              "handler": "headers",
              "response": {
                "set": {
                  "Alt-Svc": ["h3=\":443\"; ma=2592000"], //通告 HTTP/3 server 的可用性。（代理了 UDP 443 端口才需要配置）
                  "Strict-Transport-Security": ["max-age=31536000; includeSubDomains; preload"] //启用 HSTS
                }
              }
            },
            {
              "handler": "file_server",
              "root": "/home/webdav", //修改为 WebDAV 服务器存放文件路径
              "browse": {}
            }]
          }],
//备注：
//1、使用上面配置替换原示例的网站（静态文件服务器）配置、即可实现 WebDAV 服务器与网站（文件列表服务器）共存。
//2、修改 /home/webdav 的目录权限为 0777 ，以便客户端具有写入及删除文件权限。
//3、authentication 中密码必须使用哈希密码，可用 caddy hash-password --plaintext <password> 命令把普通密码转化为哈希密码。
//4、支持使用 WebDAV 客户端管理网盘文件，可上传、下载、删除、修改等。
//5、支持使用浏览器浏览网盘文件（验证无），可下载、在线播放音频/视频等。


//3、WebDAV 服务器与网站（静态文件服务器、文件列表服务器）共存配置
//1)、文件列表服务器基于特定路径访问配置
          { //若原示例为单一回落应用，此 { 可省略、保留上级的 { 即可。
            "match": [{
              "not": [{
                "method": ["GET","HEAD"]
              }]
            }],
            "handle": [{
              "handler": "authentication",
              "providers": {
                "http_basic": {
                  "hash": {
                    "algorithm": "bcrypt"
                  },
                  "accounts": [{
                    "username": "user", //验证用户，修改为自己的。
                    "password": "JDJhJDE0JGMzclpVMkU4bVhMRVRXY0o2a2pmMnVGUDNqcGxGZ3ByY1ZTMEVDbi80N1M0NE93NUZXZXNl" //验证密码（示例为 password 的哈希密码），修改为自己的。
                  }], //可以配置多组用户及密码
                  "hash_cache": {}
                }
              }
            },
            {
              "handler": "webdav",
              "root": "/home/webdav" //修改为 WebDAV 服务器存放文件路径
            }]
          },
          {
            "handle": [{
              "handler": "subroute",
              "routes": [{
                "handle": [{
                  "handler": "headers",
                  "response": {
                    "set": {
                      "Alt-Svc": ["h3=\":443\"; ma=2592000"], //通告 HTTP/3 server 的可用性。（代理了 UDP 443 端口才需要配置）
                      "Strict-Transport-Security": ["max-age=31536000; includeSubDomains; preload"] //启用 HSTS
                    }
                  }
                }]
              },
              {
                "match": [{
                  "path": ["/dav*"] //访问文件列表服务器的路径，修改为自己的。
                }],
                "handle": [{
                  "handler": "rewrite",
                  "strip_path_prefix": "/dav" //与上一致，无 *。
                },
                {
                  "handler": "authentication",
                  "providers": {
                    "http_basic": {
                      "hash": {
                        "algorithm": "bcrypt"
                      },
                      "accounts": [{
                        "username": "user", //验证用户，修改为自己的。
                        "password": "JDJhJDE0JGMzclpVMkU4bVhMRVRXY0o2a2pmMnVGUDNqcGxGZ3ByY1ZTMEVDbi80N1M0NE93NUZXZXNl" //验证密码（示例为 password 的哈希密码），修改为自己的。
                      }], //可以配置多组用户及密码
                      "hash_cache": {}
                    }
                  }
                }, //访问文件列表服务器验证配置。（选配）
                {
                  "handler": "file_server",
                  "root": "/home/webdav", //修改为 WebDAV 服务器存放文件路径
                  "browse": {}
                }]
              },
              {
                "handle": [{
                  "handler": "file_server",
                  "root": "/var/www/html" //修改为自己存放的 Web 文件路径
                }]
              }]
            }],
            "terminal": true
          }],
//备注：
//1、使用上面配置替换原示例的网站（静态文件服务器）配置、即可实现 WebDAV 服务器与网站（静态文件服务器、文件列表服务器）共存。
//2、修改 /home/webdav 的目录权限为 0777 ，以便客户端具有写入及删除文件权限。
//3、authentication 中密码必须使用哈希密码，可用 caddy hash-password --plaintext <password> 命令把普通密码转化为哈希密码。
//4、支持使用 WebDAV 客户端管理网盘文件，可上传、下载、删除、修改等。
//5、支持使用浏览器浏览网盘文件（验证选配），可下载、在线播放音频/视频等。使用方法：域名/特定路径，如 h2a.example.com/dav。

//2)、文件列表服务器基于专用域名访问配置
          { //若原示例为单一回落应用，此 { 可省略、保留上级的 { 即可。
            "match": [{
              "not": [{
                "method": ["GET","HEAD"]
              }]
            }],
            "handle": [{
              "handler": "authentication",
              "providers": {
                "http_basic": {
                  "hash": {
                    "algorithm": "bcrypt"
                  },
                  "accounts": [{
                    "username": "user", //验证用户，修改为自己的。
                    "password": "JDJhJDE0JGMzclpVMkU4bVhMRVRXY0o2a2pmMnVGUDNqcGxGZ3ByY1ZTMEVDbi80N1M0NE93NUZXZXNl" //验证密码（示例为 password 的哈希密码），修改为自己的。
                  }], //可以配置多组用户及密码
                  "hash_cache": {}
                }
              }
            },
            {
              "handler": "webdav",
              "root": "/home/webdav" //修改为 WebDAV 服务器存放文件路径
            }]
          },
          {
            "handle": [{
              "handler": "subroute",
              "routes": [{
                "handle": [{
                  "handler": "headers",
                  "response": {
                    "set": {
                      "Alt-Svc": ["h3=\":443\"; ma=2592000"], //通告 HTTP/3 server 的可用性。（代理了 UDP 443 端口才需要配置）
                      "Strict-Transport-Security": ["max-age=31536000; includeSubDomains; preload"] //启用 HSTS
                    }
                  }
                }]
              },
              {
                "match": [{
                  "host": ["dav.example.com"] //访问文件列表服务器的专用域名，修改为自己的。
                }],
                "handle": [{
                  "handler": "authentication",
                  "providers": {
                    "http_basic": {
                      "hash": {
                        "algorithm": "bcrypt"
                      },
                      "accounts": [{
                        "username": "user", //验证用户，修改为自己的。
                        "password": "JDJhJDE0JGMzclpVMkU4bVhMRVRXY0o2a2pmMnVGUDNqcGxGZ3ByY1ZTMEVDbi80N1M0NE93NUZXZXNl" //验证密码（示例为 password 的哈希密码），修改为自己的。
                      }], //可以配置多组用户及密码
                      "hash_cache": {}
                    }
                  }
                }, //访问文件列表服务器验证配置。（选配）
                {
                  "handler": "file_server",
                  "root": "/home/webdav", //修改为 WebDAV 服务器存放文件路径
                  "browse": {}
                }]
              },
              {
                "handle": [{
                  "handler": "file_server",
                  "root": "/var/www/html" //修改为自己存放的 Web 文件路径
                }]
              }]
            }],
            "terminal": true
          }],
//备注：
//1、使用上面配置替换原示例的网站（静态文件服务器）配置、同步调整专用域名的对应配置（如增加证书申请、Caddy 中访问限制/Ⅹray 中证书配置等。），即可实现 WebDAV 服务器与网站（静态文件服务器、文件列表服务器）共存。
//2、修改 /home/webdav 的目录权限为 0777 ，以便客户端具有写入及删除文件权限。
//3、authentication 中密码必须使用哈希密码，可用 caddy hash-password --plaintext <password> 命令把普通密码转化为哈希密码。
//4、支持使用 WebDAV 客户端管理网盘文件，可上传、下载、删除、修改等。
//5、支持使用浏览器浏览网盘文件（验证选配），可下载、在线播放音频/视频等。使用方法：专用域名，如 dav.example.com。
